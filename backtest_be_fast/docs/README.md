# 백엔드 기술 문서

이 디렉토리에는 백엔드 시스템의 아키텍처, 핵심 로직, 문제 해결 가이드에 대한 기술 문서가 포함되어 있습니다.

## 아키텍처

-   [**백테스트 로직 아키텍처](./architecture/backtest_logic.md)**
    -   `backtesting.py` 라이브러리의 역할과 커스텀 구현 로직의 경계를 설명합니다.
    -   통화 변환, 동적 전략 생성 등 핵심 기능에 대해 기술합니다.

-   [**날짜 계산 아키텍처 (N번째 특정 요일)](./architecture/date_calculation.md)**
    -   DCA 및 리밸런싱에 사용되는 "매월 N번째 요일" 계산 로직을 설명합니다.
    -   5번째 주가 없는 달 등의 예외 상황 처리 방법을 기술합니다.

-   [**전략 구현 가이드](./architecture/strategies.md)**
    -   시스템에 구현된 매매 전략(SMA, RSI, MACD 등)의 로직과 매개변수를 설명합니다.
    -   일관된 포지션 관리 방법을 기술합니다.

## 문제 해결

-   [**비동기/동기 경계 문제 (Race Condition)](./troubleshooting/race_condition.md)**
    -   첫 실행 시 백테스트 결과가 손상되는 현상의 원인과 해결 방법을 설명합니다.
    -   `asyncio.to_thread()`의 중요성과 올바른 사용법을 안내합니다.

-   [**DB 트랜잭션 격리 문제](./troubleshooting/transaction_isolation.md)**
    -   DB에 데이터를 저장한 직후 조회가 실패하는 문제의 원인과 해결 방법을 설명합니다.
    -   커넥션 재생성을 통한 트랜잭션 스냅샷 갱신 방법을 안내합니다.

-   [**성능 최적화 가이드](./troubleshooting/performance.md)**
    -   시스템의 주요 성능 병목 지점을 분석하고, 적용된 최적화 전략(캐싱, 인덱싱 등)을 설명합니다.
    -   향후 성능 개선 계획을 제시합니다.

## 테스트 관련 문서

-   [**테스트 (`testing/`)**](./testing/README.md): 테스트 전략, 실행 방법, 픽스처 등 테스트와 관련된 전반적인 내용을 다룹니다.
